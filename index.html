<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Haszard SMP ‚Äî Enigmas</title>
  <style>
    /* ===== Reset & base ===== */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family: "Segoe UI", Roboto, Arial, sans-serif;background:#a8d8ff;}
    a{color:inherit}

    /* ===== App layout ===== */
    .app {
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    /* ===== Menu inicial (azul claro) ===== */
    .menu {
      width:100%; max-width:1100px;
      background: linear-gradient(180deg,#cfeffd 0%, #8ec8ff 100%);
      border-radius:18px;
      padding:36px;
      box-shadow: 0 20px 60px rgba(6,27,44,0.22);
      display:flex;
      gap:28px;
      align-items:center;
      justify-content:space-between;
    }
    .brand {
      display:flex;
      gap:18px;
      align-items:center;
    }
    .logo {
      display:flex;
      align-items:center;
      gap:10px;
    }
    .title {
      font-weight:800;
      color:#012836;
      font-size:36px;
      letter-spacing:2px;
      line-height:1;
    }
    /* Estrela arredondada substituindo o primeiro 'A' */
    .title .star-wrap {
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:44px;height:44px;
      background:#fff;
      border-radius:10px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      margin:0 6px;
    }
    /* desenha a estrela interna com SVG (fixo) */
    .subtitle { color:#003247; font-size:14px; opacity:0.95; }

    /* Menu lateral de navega√ß√£o (bot√µes) */
    .nav {
      display:flex;
      gap:12px;
      align-items:center;
    }
    .btn {
      background:transparent;
      border:2px solid rgba(1,40,54,0.12);
      color:#012836;
      padding:10px 16px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      transition: all .18s ease;
    }
    .btn.primary {
      background:#012836; color:#fff; border-color: transparent;
      box-shadow: 0 12px 30px rgba(1,40,54,0.18);
    }
    .btn:hover { transform: translateY(-3px); }

    /* ===== √Årea de conte√∫do (onde enigmas aparecem) ===== */
    .content {
      width:100%;
      max-width:1100px;
      margin-top:28px;
      color:#efe9da;
    }

    /* .page esconde/mostra as telas */
    .page { display:none; }
    .page.active { display:block; }

    /* ===== ENIGMAS PAGE ===== */
    .enigmas-wrap {
      background: linear-gradient(180deg,#0c0c0c 0%, #111 100%);
      padding:34px;
      border-radius:14px;
      box-shadow: 0 18px 50px rgba(0,0,0,0.6);
      color:#efe6cf;
    }

    /* Parallax container (simples: JS move layers relativo ao scroll) */
    .parallax-viewport {
      position:relative;
      height:70vh;
      min-height:520px;
      overflow:auto;
      perspective: 800px;
      margin-bottom:18px;
    }
    /* fundo raso (camada distante) */
    .parallax-bg {
      position:absolute; inset:0;
      background: radial-gradient(circle at 20% 20%, rgba(210,170,60,0.06), transparent 20%),
                  radial-gradient(circle at 80% 80%, rgba(160,0,0,0.04), transparent 20%),
                  linear-gradient(180deg, #0b0b0b, #0f0f0f);
      transform: translateZ(-200px) scale(1.25);
      z-index:1;
      will-change: transform;
    }
    /* camada m√©dio (ornamento leve) */
    .parallax-mid {
      position:absolute; inset:0;
      background-image: linear-gradient(180deg, rgba(255,255,255,0.02), transparent 30%);
      z-index:2;
      will-change: transform;
      mix-blend-mode: overlay;
    }

    /* O pergaminho (frente da cena) */
    .scroll {
      position:relative;
      z-index:10;
      width: min(860px, 92%);
      margin: 60px auto;
      background:
         linear-gradient(180deg, #f7e9cf 0%, #e7c988 45%, #d1a85a 100%);
      padding: 28px;
      border-radius: 14px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.6), inset 0 -6px 30px rgba(0,0,0,0.06);
      border: 2px solid rgba(0,0,0,0.12);
      transform-origin: center;
      will-change: transform;
    }
    .scroll::before, .scroll::after {
      content:"";
      position:absolute; left:-8%; right:-8%;
      height:56px; background: linear-gradient(180deg,#eee0b9,#d3b06b);
      z-index:9; box-shadow:0 8px 18px rgba(0,0,0,0.28);
      border-radius:10px;
    }
    .scroll::before { top:-42px; clip-path: polygon(0 45%,10% 20%,18% 55%,28% 22%,38% 60%,48% 30%,58% 62%,68% 18%,78% 56%,88% 26%,100% 48%,100% 100%,0 100%); }
    .scroll::after  { bottom:-42px; clip-path: polygon(0 55%,10% 80%,18% 45%,28% 78%,38% 40%,48% 70%,58% 38%,68% 82%,78% 44%,88% 74%,100% 52%,100% 0,0 0); }

    .scroll h3 { color:#6b4a20; margin-bottom:8px; }
    .poem {
      font-family: Georgia, "Times New Roman", serif;
      font-style: italic;
      color:#2f1f0d;
      line-height:1.6;
      white-space:pre-wrap;
    }

    .meta {
      margin-top:12px; color:#3b2a12; font-size:14px;
    }

    /* Enigmas controls */
    .controls { display:flex; gap:10px; margin-top:16px; justify-content:center; flex-wrap:wrap; }
    .controls .small { padding:8px 12px; font-size:14px; border-radius:8px; }

    /* solu√ß√£o */
    .solution {
      margin-top:16px;
      background: rgba(0,0,0,0.06);
      padding:12px;
      border-left:4px solid #8b0000;
      color:#2b1b0f;
      display:none;
    }

    /* input resposta */
    .try-form { display:flex; gap:8px; justify-content:center; margin-top:14px; }
    .try-form input {
      padding:8px 10px; border-radius:8px; border:1px solid rgba(0,0,0,0.12);
      background:#fff; color:#111; min-width:180px;
    }

    /* rodap√© */
    .foot { margin-top:14px; text-align:center; color:#9ea195; font-size:13px; }

    /* responsivo */
    @media (max-width:720px){
      .menu{flex-direction:column;align-items:flex-start}
      .title{font-size:28px}
      .parallax-viewport{height:62vh}
    }

  </style>
</head>
<body>
  <div class="app">

    <!-- MENU -->
    <div class="menu" role="banner">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <!-- T√≠tulo: H + estrela (substitui o A) + SZARD SMP -->
          <div class="title">
            H<span class="star-wrap" aria-hidden="true">
              <!-- SVG estrela arredondada -->
              <svg width="28" height="28" viewBox="0 0 24 24" fill="#ffdfa0" xmlns="http://www.w3.org/2000/svg" style="filter: drop-shadow(0 3px 6px rgba(0,0,0,0.12));">
                <path d="M12 2.5l2.39 4.85 5.36.78-3.88 3.78.92 5.35L12 15.9 6.21 17.26l.92-5.35L3.25 8.13l5.36-.78L12 2.5z" rx="3" />
              </svg>
            </span>SZARD SMP
          </div>
        </div>
        <div>
          <div class="subtitle">Um mundo de mist√©rios e segredos al√©m do muro...</div>
        </div>
      </div>

      <nav class="nav" role="navigation" aria-label="Principal">
        <button class="btn" onclick="goHome()">In√≠cio</button>
        <button class="btn primary" onclick="abrirEnigmas()">Enigmas</button>
      </nav>
    </div>

    <!-- √ÅREA DE CONTE√öDO -->
    <div class="content">
      <!-- P√°ginas -->
      <div id="page-home" class="page active">
        <div style="margin:22px auto; max-width:1100px; text-align:center;">
          <p style="color:#012836; font-weight:700; font-size:18px;">Bem-vindo, viajante. Clique em <strong>Enigmas</strong> para descobrir o fragmento escondido.</p>
          <div style="height:18px"></div>
        </div>
      </div>

      <div id="page-enigmas" class="page">
        <div class="enigmas-wrap">
          <h2 style="text-align:center; color:#d4af37">üìú O Sussurro do Muro</h2>

          <!-- Parallax viewport -->
          <div id="viewport" class="parallax-viewport" tabindex="0" aria-label="√Årea do pergaminho">
            <div id="bg" class="parallax-bg"></div>
            <div id="mid" class="parallax-mid"></div>

            <!-- Pergaminho (camada frontal) -->
            <div id="scroll" class="scroll" role="article" aria-live="polite">
              <h3>Fragmento de pergaminho</h3>
              <div class="poem">
Mares calmos nunca enfrentam tempestade,
Unidos, olhos vigiam as fissuras,
Rastros de poeira nas pedras ca√≠das,
Onde a noite sussurra segredos.
Fragmentos de voz ecoam no corredor,
Rachaduras que pedem resposta,
A sombra caminha sem ser vista,
Crian√ßas contam o que faltou,
O sal na ferida lembra aviso.
              </div>

              <div class="meta">
                <strong>‚ö´ Tra√ßo estranho (Morse):</strong>
                <div style="margin-top:8px"><code>.-.. .. -... . .-. - .- -.-. .- ---</code></div>

                <div style="margin-top:10px"><strong>üî∂ S√≠mbolo cifrado:</strong>
                <div style="margin-top:8px"><code>QIHS</code></div></div>
              </div>

              <!-- Controles interativos -->
              <div class="controls" role="group" aria-label="Controles do enigma">
                <button class="btn small" onclick="toggleScrollZoom()">Zoom</button>
                <button class="btn small" onclick="revealScroll()">Revelar/Esconder Conte√∫do</button>
                <button class="btn small" onclick="toggleSolution()">Mostrar Solu√ß√£o</button>
              </div>

              <div class="try-form" aria-hidden="false">
                <input id="tryAnswer" placeholder="Digite sua resposta (ex: MEDO)" />
                <button class="btn small" onclick="tryAnswer()">Tentar</button>
              </div>

              <div id="solutionBox" class="solution" aria-hidden="true">
                <strong>Resposta: <span style="letter-spacing:2px">MEDO</span></strong>
                <p style="margin-top:8px">Como desvendar (passo a passo):</p>
                <ol style="color:#2b1b0f">
                  <li>Acr√≥stico ‚Äî primeiras letras do poema ‚Üí <em>MURO FRACO</em>.</li>
                  <li>Morse ‚Üí <em>LIBERTACAO</em> (sem acento).</li>
                  <li>Cifra (QIHS com C√©sar -4) ‚Üí <em>MEDO</em>.</li>
                </ol>
                <p style="margin-top:6px">Interpreta√ß√£o: o medo pode causar caos ou liberta√ß√£o ‚Äî escolha define destino.</p>
              </div>

              <div class="foot">Se quiser, pressione "Voltar" no menu para retornar.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

<script>
/* ===== Navega√ß√£o simples sem reload ===== */
function abrirEnigmas(){
  document.getElementById('page-home').classList.remove('active');
  document.getElementById('page-enigmas').classList.add('active');
  // quando abrir ensure viewport starts at top
  setTimeout(()=>{const vp = document.getElementById('viewport'); if(vp) vp.scrollTop = 0;}, 80);
}
function goHome(){
  document.getElementById('page-enigmas').classList.remove('active');
  document.getElementById('page-home').classList.add('active');
}

/* ===== Parallax simples para o pergaminho =====
   - move camadas quando a viewport √© rolada
*/
(function(){
  const vp = document.getElementById('viewport');
  const bg = document.getElementById('bg');
  const mid = document.getElementById('mid');
  const scrollEl = document.getElementById('scroll');

  // safety
  if(!vp || !bg || !mid || !scrollEl) return console.log('Parallax n√£o inicializado (elemento n√£o encontrado)');

  // on scroll: ler vp.scrollTop e aplicar transforms
  vp.addEventListener('scroll', ()=> {
    const t = vp.scrollTop; // 0..height
    // camadas: bg move menos (sensa√ß√£o distante), mid move um pouco, scroll levemente
    bg.style.transform = `translateY(${t * 0.12}px) scale(1.05)`;
    mid.style.transform = `translateY(${t * 0.24}px)`;
    scrollEl.style.transform = `translateY(${Math.min(t * 0.36, 40)}px)`;
  });

  // interactive reveal/hide/zoom controls
  window.revealScroll = function(){
    // toggle a visibilidade do texto interno (apenas efeito de opacidade)
    if(scrollEl.style.opacity === '0.12'){
      scrollEl.style.opacity = ''; scrollEl.style.maxHeight = '';
    } else {
      scrollEl.style.opacity = '1';
    }
  };

  let zoomed = false;
  window.toggleScrollZoom = function(){
    zoomed = !zoomed;
    if(zoomed){
      scrollEl.style.transform = 'translateY(0px) scale(1.04)';
      scrollEl.style.boxShadow = '0 30px 80px rgba(0,0,0,0.75)';
    } else {
      scrollEl.style.transform = 'translateY(0px) scale(1)';
      scrollEl.style.boxShadow = '';
    }
  };

})();

/* ===== Solu√ß√£o / tentativa de resposta ===== */
function toggleSolution(){
  const box = document.getElementById('solutionBox');
  if(!box) return;
  const showing = box.style.display === 'block';
  box.style.display = showing ? 'none' : 'block';
  box.setAttribute('aria-hidden', String(showing));
}

function tryAnswer(){
  const input = document.getElementById('tryAnswer');
  if(!input) return;
  const val = (input.value||'').trim().toLowerCase();
  if(!val){ alert('Digite uma resposta antes.'); return; }
  if(val === 'medo'){
    toggleSolution();
    alert('Correto ‚Äî a solu√ß√£o foi revelada.');
  } else {
    alert('Incorreto. Tente novamente.');
  }
}

/* ===== Debug: mostra vers√£o no console para confirmar atualiza√ß√£o do arquivo ===== */
console.log('Haszard SMP ‚Äî build: 2025-09-24 v3 ‚Äî arquivo carregado. Se voc√™ n√£o v√™ mudan√ßas, fa√ßa um hard refresh (Ctrl+F5) ou abra em modo an√¥nimo.');
</script>
</body>
</html>
